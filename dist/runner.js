module.exports=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,r){"use strict";function n(t,e,n,o){return r.i(a.a)(n,"debug")&&r.i(a.b)(n,!0===n.isProxy?n.statusCode+" | Returning Response to Caller":"Returning Response to Caller:",r.i(c.a)(o,null,2)),!0===n.isProxy?t(null,{statusCode:n.statusCode||n.errorCode,body:r.i(c.a)(o),headers:f({},n.cors?{"Access-Control-Allow-Origin":"*"}:void 0,n.headers)}):t(null,o)}function o(t,e,o,i,u){var s={result:"error",errors:o.errors};if(!0===o.isProxy&&200===o.statusCode&&(o.statusCode=o.errorCode||400),o.log&&r.i(a.c)(o,o.errors.join(", \n   "),u),"function"!=typeof o.onError)return n(t,e,o,s);Promise.resolve(o.onError(s,o,{data:e,result:i},u,t)).then(function(r){return!1===r?void 0:n(t,e,o,s)}).catch(function(i){return r.i(a.c)(o,i.message,i,"An Error Occurred During the Provided Error Handler","ERROR HANDLER"),o.errors.push(i.message),s.errors=o.errors,n(t,e,o,s)})}function i(t,e){for(var r=void 0,n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];switch(o.length){case 1:r=o[0],Object.assign(t,p);break;case 2:"object"!==l(o[0])?"object"===l(o[1])?e.push(u.a.argumentsOrder.apply(u.a,o)):e.push(u.a.invalidConfig.apply(u.a,o)):(Object.assign(t,p,o[0]),r=o[1]);break;default:e.push(u.a.wrongArguments.apply(u.a,o))}return r}Object.defineProperty(e,"__esModule",{value:!0});var u=r(1),s=r(3),a=r(2),c=r(4),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p={isProxy:!1,log:!1,statusCode:200,cors:!1,headers:null,errorCode:400,onError:void 0,awaitEventLoop:!0,client:{},queries:{},params:{},stage:{},plugins:[]};e.default=function(){for(var t={},e=[],u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];var p=i.apply(void 0,[t,e].concat(l));return function(i,u,l){var f=void 0,y=Object.assign({},t,{errors:[].concat(e)});!1===y.awaitEventLoop?u.callbackWaitsForEmptyEventLoop=!1:!0===y.awaitEventLoop&&(u.callbackWaitsForEmptyEventLoop=!0);try{i&&void 0!==i.requestContext&&void 0!==i.headers?(r.i(s.a)(i,y,u),f=r.i(c.b)(i.body)):f=i,r.i(a.a)(y,"debug")&&r.i(a.b)(y,"Starting Function Execution",!0===y.isProxy?JSON.stringify({timeRemaining:u.getRemainingTimeInMillis(),path:y.path,method:y.method,queries:y.queries,params:y.params,stage:y.stage},c.c,2):JSON.stringify({timeRemaining:u.getRemainingTimeInMillis()},c.c,2));var d=y.plugins.map(function(t){var e=void 0,r=new t;return e="function"==typeof r.onBuild?r.onBuild(f,y,u,l):r,Promise.resolve(e).then(function(t){return r})});return Promise.all(d).then(function(t){return y.errors.length>0||"function"!=typeof p?o(l,f,y):Promise.resolve(p(f,y,u,l)).then(function(e){var r=t.map(function(t){if("function"==typeof t.onComplete)return t.onComplete(e,f,y,u,l)});return Promise.all(r).then(function(){return y.errors.length>0?o(l,f,y,e):n(l,f,y,e)})}).catch(function(t){return y.errors.push(t.message),o(l,f,y,i)})})}catch(t){return y.errors.push(t.message),o(l,f,y,t.message,t)}}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a={argumentsOrder:function(){return'[LAMBDA-RUNNER]\n    INVALID CONFIGURATION PROVIDED! \n    \n    Expected an "object" but received '+n(arguments.length<=0?void 0:arguments[0])+".  It appears \n    that you provided the values in an invalid order.  Try using \n    (config, fn) instead of (fn, config)."},invalidConfig:function(){return'[LAMBDA-RUNNER]\n    INVALID CONFIGURATION PROVIDED! \n    \n    Expected an "object" but received '+n(arguments.length<=0?void 0:arguments[0])},wrongArguments:function(){return"[LAMBDA-RUNNER]\n    FAILED TO INITIALIZE LAMBDA! \n    \n    Our initialization function expects either one or two arguments, however, \n    you provided "+arguments.length+" parameters."}}},function(t,e,r){"use strict";function n(t,e){return!!t.log&&(!(!0!==t.log||!s.includes(e))||(!(!Array.isArray(t.log)||!t.log.includes(e))||"debug"===t.log))}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LOG",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"log";console[n]("\n---------------------------------\n"+r+" | "+t+" "+(e&&"\n"+e)+"\n---------------------------------")}function i(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Errors Occurred During a Request",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ERROR";t.log&&(n(t,"errors")&&o(i,e,u,"error"),r instanceof Error&&n(t,"exceptions")&&console.error(r))}function u(t,e,r,i){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"log";n(t,"debug")&&o(e,r,i,u)}e.a=n,e.c=i,e.b=u;var s=["errors","warnings"]},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={"User-Agent":function(t,e){e.client.agent=t},"X-Forwarded-For":function(t,e){e.client.forwardedFor=t.split(",")},"X-Forwarded-Port":function(t,e){e.client.forwardedPort=Number(t)},"CloudFront-Viewer-Country":function(t,e){e.client.country=t}},i={httpMethod:function(t,e){e.method=t},path:function(t,e){e.path=t},resource:function(t,e){e.resource=t},queryStringParameters:function(t,e){e.queries=t},pathParameters:function(t,e){e.params=t},stageVariables:function(t,e){e.stage=t},requestContext:function(t,e){t&&t.identity&&t.identity.sourceIp&&(e.client.sourceIP=t.identity.sourceIp),e.request.requestContext=t},DEFAULT:function(t,e,r){r.request[t]=e},headers:function(t,e){var r=Object.keys(o),n=Object.keys(t),i=function(r){void 0!==t[r]&&"function"==typeof o[r]&&o[r](t[r],e)};r.length>=n.length?n.forEach(i):r.forEach(i)}};e.a=function(t,e){if("object"===(void 0===t?"undefined":n(t))){e.isProxy=!0,e.request||(e.request={});for(var r in t)void 0===i[r]?i.DEFAULT(r,t[r],e):i[r](t[r],e)}}},function(t,e,r){"use strict";function n(){try{return"string"==typeof(arguments.length<=0?void 0:arguments[0])&&JSON.parse.apply(JSON,arguments)||(arguments.length<=0?void 0:arguments[0])}catch(t){return arguments.length<=0?void 0:arguments[0]}}function o(){try{return"object"===u(arguments.length<=0?void 0:arguments[0])&&JSON.stringify.apply(JSON,arguments)||(arguments.length<=0?void 0:arguments[0])}catch(t){return arguments.length<=0?void 0:arguments[0]}}function i(t,e){return void 0!==e&&null!==e?e:void 0}e.b=n,e.a=o,e.c=i;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,r){t.exports=r(0)}]);