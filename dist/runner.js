module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=5)}([function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}function i(e,r,n,o){return t.i(l.a)(n,"debug")&&t.i(l.b)(n,!0===n.isProxy?n.statusCode+" | Returning Response to Caller":"Returning Response to Caller:",!0===n.isProxy?JSON.stringify({statusCode:n.statusCode||n.errorCode,body:o,headers:d({},n.cors?{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT","Access-Control-Allow-Headers":Object.keys(n.headers||{}).reduce(function(e,r){return e+=","+r},"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token")}:void 0,n.headers)},null,2):t.i(f.a)(o,null,2)),!0===n.isProxy?e(null,{statusCode:n.statusCode||n.errorCode,body:t.i(f.a)(o),headers:d({},n.cors?{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"DELETE,GET,HEAD,OPTIONS,PATCH,POST,PUT","Access-Control-Allow-Headers":Object.keys(n.headers||{}).reduce(function(e,r){return e+=","+r},"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token")}:void 0,n.headers)}):e(null,o)}function u(e,r,n,o,u){var s={result:"error",errors:n.errors};if(!0===n.isProxy&&200===n.statusCode&&(n.statusCode=n.errorCode||400),n.log&&t.i(l.c)(n,n.errors.join(", \n   "),u),"function"!=typeof n.onError)return i(e,r,n,s);Promise.resolve(n.onError(s,n,{data:r,result:o},u,e)).then(function(t){return!1===t?void 0:i(e,r,n,s)}).catch(function(o){return t.i(l.c)(n,o.message,o,"An Error Occurred During the Provided Error Handler","ERROR HANDLER"),n.errors.push(o.message),s.errors=n.errors,i(e,r,n,s)})}function s(e,r){for(var t=void 0,n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];switch(o.length){case 1:t=o[0],Object.assign(e,p);break;case 2:"object"!==y(o[0])?"object"===y(o[1])?r.push(a.a.argumentsOrder.apply(a.a,o)):r.push(a.a.invalidConfig.apply(a.a,o)):(Object.assign(e,p,o[0]),t=o[1]);break;default:r.push(a.a.wrongArguments.apply(a.a,o))}return t}Object.defineProperty(r,"__esModule",{value:!0});var a=t(1),c=t(3),l=t(2),f=t(4),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},p={isProxy:!1,log:!1,statusCode:200,cors:!1,headers:null,errorCode:400,onError:void 0,awaitEventLoop:!0,client:{},queries:{},params:{},stage:{},plugins:[]};r.default=function(){for(var e={},r=[],a=arguments.length,y=Array(a),d=0;d<a;d++)y[d]=arguments[d];var p=s.apply(void 0,[e,r].concat(y));return function(s,a,y){var d=void 0,g=Object.assign({},e,{errors:[].concat(r)});!1===g.awaitEventLoop?a.callbackWaitsForEmptyEventLoop=!1:!0===g.awaitEventLoop&&(a.callbackWaitsForEmptyEventLoop=!0);try{s&&void 0!==s.requestContext&&void 0!==s.headers?(t.i(c.a)(s,g,a),d=t.i(f.b)(s.body)):d=s,t.i(l.a)(g,"debug")&&t.i(l.b)(g,"Starting Function Execution",!0===g.isProxy?JSON.stringify({timeRemaining:a.getRemainingTimeInMillis(),path:g.path,method:g.method,queries:g.queries,params:g.params,stage:g.stage},f.c,2):JSON.stringify({timeRemaining:a.getRemainingTimeInMillis()},f.c,2));var m=g.plugins.map(function(e){var r=void 0,t=void 0;if(Array.isArray(e)){var i=o(e),u=i[0],s=i.slice(1);t=new(Function.prototype.bind.apply(u,[null].concat(n(s))))}else t=new e;return r="function"==typeof t.onBuild?t.onBuild(d,g,a,y):t,Promise.resolve(r).then(function(e){return t})});return Promise.all(m).then(function(e){return g.errors.length>0||"function"!=typeof p?u(y,d,g):Promise.resolve(p(d,g,a,y)).then(function(r){var t=e.map(function(e){if("function"==typeof e.onComplete)return e.onComplete(r,d,g,a,y)});return Promise.all(t).then(function(){return g.errors.length>0?u(y,d,g,r):i(y,d,g,r)})}).catch(function(e){return g.errors.push(e.message),u(y,d,g,s)})})}catch(e){return g.errors.push(e.message),u(y,d,g,e.message,e)}}}},function(e,r,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.a={argumentsOrder:function(){return'[LAMBDA-RUNNER]\n    INVALID CONFIGURATION PROVIDED! \n    \n    Expected an "object" but received '+n(arguments.length<=0?void 0:arguments[0])+".  It appears \n    that you provided the values in an invalid order.  Try using \n    (config, fn) instead of (fn, config)."},invalidConfig:function(){return'[LAMBDA-RUNNER]\n    INVALID CONFIGURATION PROVIDED! \n    \n    Expected an "object" but received '+n(arguments.length<=0?void 0:arguments[0])},wrongArguments:function(){return"[LAMBDA-RUNNER]\n    FAILED TO INITIALIZE LAMBDA! \n    \n    Our initialization function expects either one or two arguments, however, \n    you provided "+arguments.length+" parameters."}}},function(e,r,t){"use strict";function n(e,r){return!!e.log&&(!(!0!==e.log||!s.includes(r))||(!(!Array.isArray(e.log)||!e.log.includes(r))||"debug"===e.log))}function o(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LOG",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"log";console[n]("\n---------------------------------\n"+t+" | "+e+" "+(r&&"\n"+r)+"\n---------------------------------")}function i(e,r,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Errors Occurred During a Request",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ERROR";e.log&&(n(e,"errors")&&o(i,r,u,"error"),t instanceof Error&&n(e,"exceptions")&&console.error(t))}function u(e,r,t,i){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"log";n(e,"debug")&&o(r,t,i,u)}r.a=n,r.c=i,r.b=u;var s=["errors","warnings"]},function(e,r,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={"User-Agent":function(e,r){r.client.agent=e},"X-Forwarded-For":function(e,r){r.client.forwardedFor=e.split(",")},"X-Forwarded-Port":function(e,r){r.client.forwardedPort=Number(e)},"CloudFront-Viewer-Country":function(e,r){r.client.country=e}},i={httpMethod:function(e,r){return r.method=e,!0},path:function(e,r){return r.path=e,!0},resource:function(e,r){return r.resource=e,!0},queryStringParameters:function(e,r){return r.queries=e&&Object.assign({},e),!0},pathParameters:function(e,r){return r.params=e&&Object.assign({},e),!0},stageVariables:function(e,r){return r.stage=Object.assign({},e),!0},requestContext:function(e,r){e&&e.identity&&e.identity.sourceIp&&(r.client.sourceIP=e.identity.sourceIp),r.request.requestContext=e},DEFAULT:function(e,r,t){t.request[e]=r},headers:function(e,r){r.request.heders=e;var t=Object.keys(o),n=Object.keys(e),i=function(t){void 0!==e[t]&&"function"==typeof o[t]&&o[t](e[t],r)};t.length>=n.length?n.forEach(i):t.forEach(i)}};r.a=function(e,r){if("object"===(void 0===e?"undefined":n(e))){r.isProxy=!0,r.request||(r.request={});for(var t in e)if(void 0===i[t])i.DEFAULT(t,e[t],r);else{var o=i[t](e[t],r);!0===o&&delete e[t]}}}},function(e,r,t){"use strict";function n(){try{return"string"==typeof(arguments.length<=0?void 0:arguments[0])&&JSON.parse.apply(JSON,arguments)||(arguments.length<=0?void 0:arguments[0])}catch(e){return arguments.length<=0?void 0:arguments[0]}}function o(){try{return"object"===u(arguments.length<=0?void 0:arguments[0])&&JSON.stringify.apply(JSON,arguments)||(arguments.length<=0?void 0:arguments[0])}catch(e){return arguments.length<=0?void 0:arguments[0]}}function i(e,r){return void 0!==r&&null!==r?r:void 0}r.b=n,r.a=o,r.c=i;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,r,t){e.exports=t(0)}]);